.\" Manpage for ned.
.\" Contact nevdelap@gmail.com to correct errors or typos.
.TH ned 1 "2021-05-15" "ned 1.3.2"
.SH NAME
.B ned
- Powerful regex replace for bulk editing.
.SH SYNOPSIS
.B ned
.RI [ OPTION ...] \&
.RB [ -p ]
.I PATTERN
.RI [ FILE ...]
.br
.B ned
.RI [ OPTION "...] [" FILE ...] \&
.BI -p " PATTERN"
.SH DESCRIPTION
.RB "For regular expression power users, " ned " is like " grep ", but with powerful replace capabilities, and unlike " sed ", as it isn't restricted to line oriented editing."
FILEs are ASCII or UTF-8 text files. For regex syntax see: https://docs.rs/regex/1.3.4/regex/#syntax
.SH OPTIONS
.BR -p ", " --pattern " PATTERN"
.RS
Specify a pattern. If the option isn't used the pattern must precede the files. The option allows the pattern to be put after the files for more convenient editing.
.RE
.BR -r ", " --replace " REPLACEMENT"
.RS
Replace matches. Replacements may include numbered and named groups. Replaces always operate on whole files.
.RE
.BR -w ", " --whole-files
.RS
Operate on whole files. Otherwise matches are line oriented.
.RE
.BR -n ", " --number " N"
.RS
Match/replace N occurrences.
.RE
.BR -k ", " --skip " N"
.RS
Skip N occurrences before matching/replacing.
.RE
.BR -b ", " --backwards
.RS
.RB "Make " -n/--number " and " -k/--skip " options count backwards."
.RE
.BR -i ", " --ignore-case
.RS
Ignore case.
.RE
.BR -s ", " --single
.RS
.RB "'.' matches newlines, ^ and $ match the beginning and end of each file. Use with " --whole-files "."
.RE
.BR -m ", " --multiline
.RS
.RB "Multiline, ^ and $ match the beginning and end of each line. Use with " --whole-files "."
.RE
.BR -x ", " --extended
.RS
Ignore whitespace and # comments.
.RE
.BR --case-replacements
.RS
Enable \\U - uppercase, \\L - lowercase, \\I - initial uppercase (title case), \\F - first uppercase (sentence case) replacements. \\E marks the end of a case replacement.
.RE
.BR -o ", " --matches-only
.RS
Show only matches.
.RE
.BR -g ", " --group " GROUP"
.RS
Show the match group, specified by number or name.
.RE
.BR -v ", " --no-match
.RS
Show only non-matching.
.RE
.BR -f ", " --filenames-only
.RS
.RB "Show only filenames containing matches. Use with " -v/--no-match " to show filenames without matches."
.RE
.BR -F ", " --no-filenames
.RS
Don't show filenames.
.RE
.BR -l ", " --line-numbers-only
.RS
.RB "Show only line numbers containing matches. Use with " -v/--no-match " to show line numbers without matches. Use without " -w/--whole-files "."
.RE
.BR -L ", " --no-line-numbers
.RS
.RB "Don't show line numbers. Use without " -w/--whole-files "."
.RE
.BR -C ", " --context " LINES"
.RS
.RB "Show LINES lines around each matching line. Is the same as specifying both " -B/--before " and " -A/--after " with the same LINES. Use without " -w/--whole-files "."
.RE
.BR -B ", " --before " LINES"
.RS
.RB "Show LINES lines before each matching line. Use without " -w/--whole-files "."
.RE
.BR -A ", " --after " LINES"
.RS
.RB "Show LINES lines after each matching line. Use without " -w/--whole-files "."
.RE
.BR -R ", " --recursive
.RS
Recurse.
.RE
.BR -l ", " --follow
.RS
Follow symlinks. (Ignored on Windows.)
.RE
.BR --include " GLOB"
.RS
Match only files that match GLOB.
.RE
.BR --exclude " GLOB"
.RS
Skip files matching GLOB.
.RE
.BR --exclude-dir " GLOB"
.RS
Skip directories matching GLOB.
.RE
.BR -u ", " --ignore-non-utf8
.RS
.RB "Quietly ignore files that cannot be parsed as UTF-8 (or ASCII). Because this requires reading the file, the " --exclude " option should be preferred."
.RE
.BR -a ", " --all
.RS
Do not ignore files and directories starting with '.'.
.RE
.B -c
.RS
.RB "Show filenames, line numbers, and matches in color. Is the same as " --colors=always "."
.RE
.BR --colors
.RI [ WHEN ]
.RS
\'auto' shows filenames, line numbers, and matches in color when stdout is a terminal, not when it is a pipe, 'always' shows color even when stdout is a pipe, and 'never' never shows colors.
.RE
.BR --color
.RI [ WHEN ]
.RS
Synonym for --colors.
.RE
.BR --stdout
.RS
Output to stdout.
.RE
.BR -q ", " --quiet
.RS
Suppress all normal output.  When matching terminate as soon as a match is found.
.RE
.BR -V ", " --version
.RS
Output version information and exit.
.RE
.BR -h ", " --help
.RS
Print this help and exit.
.RE
Quiet
.RS
.RB "When " -q/--quiet " is specified, " ned " tests for matches and returns an exit code of 0 if a match is found in ANY file. Quiet matches will only read as many files as needed to find a match. Even without this shortcutting behaviour, quiet matches are more performant than non-quiet matches."
.RE
.SH EXIT STATUS
An exit status of 0 means matches were found/replaced. An exit status of 1 means no matches were found.
.SH ENVIRONMENT
.B NED_DEFAULTS
.RS
.RB "Specifies " ned " options added to the program's arguments. Is a space delimited list of options and is not first interpreted by a shell, so quotes are not required around arguments. For example:"
.PP
NED_DEFAULTS="-u -R --exclude *.bk --exclude-dir .git"
.RE
.SH EXAMPLES
.RB "The TL;DR section of the " ned " README.md gives example usages."
https://github.com/nevdelap/ned#tldr
.SH SEE ALSO
https://github.com/nevdelap/ned/wiki
.SH AUTHOR
Nev Delap (nevdelap@gmail.com)
.SH COPYRIGHT
.BR ned " 1.3.2 Copyright (C) 2016-2022 Nev Delap"
.SH LICENSE
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
